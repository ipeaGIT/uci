[{"path":"https://ipeagit.github.io/uci/articles/uci.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Introduction to uci: urban centrality index","text":"","code":"# from CRAN install.packages('uci')  # development version from GitHub remotes::install_github(\"ipeaGIT/uci\")"},{"path":"https://ipeagit.github.io/uci/articles/uci.html","id":"demonstration-on-sample-data","dir":"Articles","previous_headings":"","what":"Demonstration on sample data","title":"Introduction to uci: urban centrality index","text":"First, let’s load libraries ’ll using vignette.","code":"library(uci) library(sf)"},{"path":"https://ipeagit.github.io/uci/articles/uci.html","id":"data-input","dir":"Articles","previous_headings":"Demonstration on sample data","what":"Data input","title":"Introduction to uci: urban centrality index","text":"uci package comes sample data demonstration test purposes. data small sample spatial distribution population, jobs schools around city center Belo Horizonte, Brazil. sample data set good illustration type data input required uci. sample data looks like: data object class \"sf\" \"data.frame\" spatial polygons covering study area columns indicating number activities (e.g. jobs, schools, population) polygon. particular sample data based spatial hexagonal grid (H3 index). advantages using regular spatial grids calculate spatial statistics, uci also works non-regular geometries, census tracts, enumeration areas municipalities. can visualize spatial distribution jobs using ggplot2:","code":"data_dir <- system.file(\"extdata\", package = \"uci\")  grid <- readRDS(file.path(data_dir, \"grid_bho.rds\")) head(grid) #> Simple feature collection with 6 features and 4 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -43.96438 ymin: -19.97414 xmax: -43.93284 ymax: -19.96717 #> Geodetic CRS:  WGS 84 #>                id population jobs schools                       geometry #> 1 89a881a5a2bffff        439  180       0 POLYGON ((-43.9431 -19.9741... #> 2 89a881a5a2fffff        266  134       0 POLYGON ((-43.94612 -19.972... #> 3 89a881a5a67ffff       1069  143       0 POLYGON ((-43.94001 -19.972... #> 4 89a881a5a6bffff        245   61       0 POLYGON ((-43.9339 -19.9728... #> 5 89a881a5a6fffff        298   11       0 POLYGON ((-43.93691 -19.971... #> 6 89a881a5b03ffff        555 1071       0 POLYGON ((-43.96136 -19.970... library(ggplot2)  ggplot(data = grid) +   geom_sf(aes(fill = jobs), color = NA) +   scale_fill_viridis_c() +   theme_void()"},{"path":"https://ipeagit.github.io/uci/articles/uci.html","id":"calculating-uci","dir":"Articles","previous_headings":"Demonstration on sample data","what":"Calculating UCI","title":"Introduction to uci: urban centrality index","text":"example , calculate mono/polycentric study area considering spatial distribution jobs. default, uci() function uses Euclidean distances polygons. However, Euclidean distances can lead misleading results case areas concave shape (like bay). cases, strongly recommended use dist_type = 'spatial_link'. spatial link distances consider Euclidean distances along links spatial neighbour links. bit costly computationally speaking, return realistic results. Mind , though, using \"spatial_link\" distances, disconnected island polygon (group polygons). cases, users might need manually edit spatial data include polygon representing road bridge connecting disconnected parts area.","code":"df <- uci(   sf_object = grid,   var_name = 'jobs',    dist_type = 'euclidean'   )  head(df) #>         UCI location_coef spatial_separation spatial_separation_max #> 1 0.2538635     0.5278007           3880.114               7475.899 df <- uci(   sf_object = grid,   var_name = 'jobs',    dist_type = 'spatial_link'   )  head(df) #>         UCI location_coef spatial_separation spatial_separation_max #> 1 0.2535891     0.5278007           4281.819               8241.617"},{"path":"https://ipeagit.github.io/uci/articles/uci.html","id":"formal-definition-of-uci","dir":"Articles","previous_headings":"Demonstration on sample data","what":"Formal definition of UCI","title":"Introduction to uci: urban centrality index","text":"Urban Centrality Index (UCI) given product Location Coefficient (LC) Proximity Index (PI). formulation, UCI calculates urban centrality simultaneously accounting concentration activities proximity activities. UCI=LC*PI \\begin{aligned} UCI = LC  * PI \\end{aligned}  Location Coefficient (LC) introduced Florence (1948) measure unequal distribution factor jobs within urban area. works nonspatial inequality measure (similarly Gini, example). reflects, example, extent number activities concentrated polygons. range LC 0 (1 - 1/n). LC equals zero, economic activity evenly distributed, values close (1 - 1/n) indicate employment concentrated areas. LC=12∑1n∣Si−1n​|Si=EiE \\begin{aligned} LC = \\frac{1}{2} \\sum_{1}^{n}∣S_{} − \\frac{1}{n}​|\\\\   S_{} = \\frac{E_{}}{E} \\end{aligned} Si share employment area (Ei) relative total employment (E) city; E total number jobs city; n = number areas. Meanwhile, Proximity Index (PI) transformation Pereira et al. (2013) proposed Venables index, originally developed Midelfart-Knarvik et al. (2002) examine changes spatial distribution economic activity. Venables index (aka spatial separation index) defined : V=S′*D*S \\begin{aligned} V = S' * D * S   \\end{aligned}  S column vector Si; D distance matrix whose entry dij distance centroids areas j. employment activity concentrated just one spatial unit, minimum value V reached; , zero (matter spatial unit located). However, index maximum value therefore compared across different spatial settings. overcome limitation, necessary calculate maximum attainable value V. Proximity Index (PI) solves normalization issue V changes interpretation suit needs. interpretation PI opposite V, theoretical range (0, 1). Values PI closer 1 mean employment clustered one single center. PI 0, employment spatially separated possible. words, activities distributed way maximizes distances . P=1−VVmax \\begin{aligned} P = 1 - \\frac{V}{V_{max}} \\end{aligned} normalization Vmax makes comparison urban areas different shapes sizes possible. However, estimation Vmax trivial, closed-form solution. simple square grid, Vmax obtained corner one-fourth total employment. region forming perfect circle, maximum value V occurs employment evenly distributed along external edge. original paper, Pereira et al. (2013) proposed simple heuristic approach calculate Vmax(“opposite maximum proximity”) homogeneous distribution values along edge study area. default strategy used uci() function default parameter bootstrap_border = FALSE. Nonetheless, users can also use bootstrap simulation approach estimate Vmax setting bootstrap_border = TRUE.","code":""},{"path":"https://ipeagit.github.io/uci/articles/uci.html","id":"bootstraping-vmax","dir":"Articles","previous_headings":"Demonstration on sample data > Formal definition of UCI","what":"Bootstraping Vmax","title":"Introduction to uci: urban centrality index","text":"Using bootstrap find max Venables spatial separation. Users can set parallel = TRUE speed uo computation using parallel processing. bootstrap approach simulates 20000 random distributions activities along border. practice, works interacting two simulations: (1) simulates jobs concentrated 2, 3, 4, 5 … 51 polygons along border, (2) number selected polygons, shuffles 400 random positions polygons along border. bootstrap approach computationally expensive returns Vmax values can 5 25% higher heuristic approach. Although bootstrap simulation might still return maximum theoretical value spatial separation, probably close ","code":"df_bootstrap <- uci(   sf_object = grid,   var_name = 'jobs',   bootstrap_border = TRUE,   showProgress = FALSE )  head(df_bootstrap) #>         UCI location_coef spatial_separation spatial_separation_max #> 1 0.2553067     0.5278007           3880.114               7515.494"},{"path":[]},{"path":"https://ipeagit.github.io/uci/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Rafael H. M. Pereira. Author, maintainer.","code":""},{"path":"https://ipeagit.github.io/uci/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Pereira, R. H. M., Nadalin, V., Monasterio, L., & Albuquerque, P. H. (2013). Urban centrality: simple index. Transportation Research Part D: Transport Environment, 45(1), 77-89. https://doi.org/10.1016/j.trd.2023.103757","code":"@Article{,   title = {Urban Centrality: A Simple Index},   author = {Rafael H. M. Pereira and Vanessa Nadalin and Leonardo Monasterio and Pedro H. Albuquerque},   journal = {Geographical analysis},   volume = {45},   number = {1},   pages = {166},   year = {2013},   doi = {10.1111/gean.12002},   url = {https://doi.org/10.1111/gean.12002}, }"},{"path":"https://ipeagit.github.io/uci/index.html","id":"uci-urban-centrality-index","dir":"","previous_headings":"","what":"Urban Centrality Index","title":"Urban Centrality Index","text":"uci R package calculate Urban Centrality Index (UCI) originally proposed Pereira et al., (2013). UCI measures extent spatial organization city region varies extreme polycentric extreme monocentric continuous scale 0 1. Values close 0 indicate polycentric patterns values close 1 indicate monocentric urban form. info vignette. Link ungated PDF Pereira et al., (2013) paper","code":""},{"path":"https://ipeagit.github.io/uci/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Urban Centrality Index","text":"","code":"# from CRAN install.packages('uci')  # or use the development version with latest features utils::remove.packages('uci') devtools::install_github(\"ipeaGIT/uci\")"},{"path":"https://ipeagit.github.io/uci/index.html","id":"basic-usage","dir":"","previous_headings":"","what":"Basic Usage","title":"Urban Centrality Index","text":"","code":"library(uci)  # load data data_dir <- system.file(\"extdata\", package = \"uci\") grid <- readRDS(file.path(data_dir, \"grid_bho.rds\"))  head(grid) #> Simple feature collection with 6 features and 4 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -43.96438 ymin: -19.97414 xmax: -43.93284 ymax: -19.96717 #> Geodetic CRS:  WGS 84 #>                id population jobs schools                       geometry #> 1 89a881a5a2bffff        439  180       0 POLYGON ((-43.9431 -19.9741... #> 2 89a881a5a2fffff        266  134       0 POLYGON ((-43.94612 -19.972... #> 3 89a881a5a67ffff       1069  143       0 POLYGON ((-43.94001 -19.972... #> 4 89a881a5a6bffff        245   61       0 POLYGON ((-43.9339 -19.9728... #> 5 89a881a5a6fffff        298   11       0 POLYGON ((-43.93691 -19.971... #> 6 89a881a5b03ffff        555 1071       0 POLYGON ((-43.96136 -19.970...  # calculate UCI df <- uci(        sf_object = grid,        var_name = 'jobs',        bootstrap_border = FALSE,        showProgress = TRUE        )  head(df) #>         UCI location_coef spatial_separation spatial_separation_max #> 1 0.2538635     0.5278007           3880.114               7475.899"},{"path":"https://ipeagit.github.io/uci/index.html","id":"citation-","dir":"","previous_headings":"","what":"Citation","title":"Urban Centrality Index","text":"R package uci developed team Institute Applied Economic Research (Ipea), Brazil. use package research publications, please cite : Pereira, R. H. M., Nadalin, V., Monasterio, L., & Albuquerque, P. H. (2013). Urban centrality: simple index. Geographical analysis, 45(1), 77-89. https://www.doi.org/10.1111/gean.12002 BibTeX:","code":"@article{pereira2013urbancentrality,   title = {Urban {{Centrality}}: {{A Simple Index}}},   author = {Pereira, Rafael H. M. and Nadalin, Vanessa and Monasterio, Leonardo and Albuquerque, Pedro H. M.},   year = {2013},   journal = {Geographical Analysis},   volume = {45},   number = {1},   pages = {77--89},   issn = {1538-4632},   doi = {10.1111/gean.12002} }"},{"path":"https://ipeagit.github.io/uci/index.html","id":"acknowledgement","dir":"","previous_headings":"","what":"Acknowledgement","title":"Urban Centrality Index","text":"Hex image illustrates Christaller’s Central Place Theory. adapted image originally created Christaller adapted Becerra, 2015.","code":""},{"path":"https://ipeagit.github.io/uci/reference/uci.html","id":null,"dir":"Reference","previous_headings":"","what":"Urban Centrality Index — uci","title":"Urban Centrality Index — uci","text":"Calculates Urban Centrality Index (UCI) Pereira et al., (2013) doi:10.1111/gean.12002 . UCI measures extent spatial organization city region varies extreme monocentric extreme polycentric continuous scale 0 1. Values close 0 indicate polycentric patterns values close 1 indicate monocentric urban form. Calculate Urban Centrality Index","code":""},{"path":"https://ipeagit.github.io/uci/reference/uci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Urban Centrality Index — uci","text":"","code":"uci(   sf_object,   var_name,   dist_type = \"euclidean\",   bootstrap_border = FALSE,   showProgress = TRUE,   parallel = FALSE )"},{"path":"https://ipeagit.github.io/uci/reference/uci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Urban Centrality Index — uci","text":"sf_object POLYGON sf data.frame study area. var_name string. name column sf_object number activities/opportunities/resources/services considered calculating urban centrality levels. NA values considered equal 0. dist_type string indicating whether calculations based \"euclidean\" distances (Default) \"spatial_link\" distances. Spatial link distances consider Euclidean distances along links spatial neighbor links. case areas concave shape (like bay), strongly recommended use \"spatial_link\" distances (even though computationally costly) simple Euclidean distances can bias UCI estimates cases. bootstrap_border logical. calculation UCI requires one find maximum value Venables spatial separation index study area. bootstrap_border = FALSE (Default), function uses heuristic approach assumes max spatial separation occur activities equally distributed along border study  area. fast approach, reach maximum spatial separation. Alternatively, bootstrap_border = TRUE, function uses bootstrap approach simulates 20000 random distributions activities along border uses max spatial separation found. approach computationally expensive although might return maximum theoretical value spatial separation, probably close . showProgress logical. Indicates whether show progress bar bootstrap simulation. Defaults TRUE. parallel Decides whether function run parallel. Defaults FALSE. TRUE, use cores available future::plan() strategy \"multisession\" internally. Note possible create plan calling uci(). case, use argument.","code":""},{"path":"https://ipeagit.github.io/uci/reference/uci.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Urban Centrality Index — uci","text":"Please check vignettes data documentation website.","code":""},{"path":[]},{"path":"https://ipeagit.github.io/uci/reference/uci.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Urban Centrality Index — uci","text":"Maintainer: Rafael H. M. Pereira rafa.pereira.br@gmail.com (ORCID)","code":""},{"path":"https://ipeagit.github.io/uci/reference/uci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Urban Centrality Index — uci","text":"","code":"# load data data_dir <- system.file(\"extdata\", package = \"uci\") grid <- readRDS(file.path(data_dir, \"grid_bho.rds\"))  # calculate UCI df <- uci(         sf_object = grid,         var_name = 'jobs',         dist_type = \"euclidean\",         bootstrap_border = FALSE         ) head(df) #>         UCI location_coef spatial_separation spatial_separation_max #> 1 0.2538635     0.5278007           3880.114               7475.899  # calculate UCI with bootstrap df2 <- uci(         sf_object = grid,         var_name = 'jobs',         dist_type = \"euclidean\",         bootstrap_border = TRUE,         showProgress = TRUE         ) head(df2) #>         UCI location_coef spatial_separation spatial_separation_max #> 1 0.2555007     0.5278007           3880.114               7520.846"},{"path":"https://ipeagit.github.io/uci/news/index.html","id":"uci-031","dir":"Changelog","previous_headings":"","what":"uci 0.3.1","title":"uci 0.3.1","text":"CRAN release: 2025-11-07 Avoid errors detecting number available cores parallel processing.","code":""},{"path":"https://ipeagit.github.io/uci/news/index.html","id":"uci-030","dir":"Changelog","previous_headings":"","what":"uci 0.3.0","title":"uci 0.3.0","text":"CRAN release: 2023-09-23 uci() now accepts columns NA values. cases, NAs replaced zero represent zero activities. improved documentation package now uses Queen contiguity (spdep::poly2nb(geo, queen=TRUE)) determine neighboring polygons whe considering spatial link distances. Update vignette","code":""},{"path":"https://ipeagit.github.io/uci/news/index.html","id":"uci-020","dir":"Changelog","previous_headings":"","what":"uci 0.2.0","title":"uci 0.2.0","text":"CRAN release: 2023-06-14 Major changes uci function now new parameter dist_type allows users choose whether calculations based \"euclidean\" distances (Default) \"spatial_link\" distances. Spatial link distances consider Euclidean distances along links spatial neighbour links. case areas concave shape (like bay), strongly recommended use \"spatial_link\" distances (even though computationally costly) simple Euclidean distances can bias UCI estimates cases. uci function now new parameter parallel speeds calculations large areas comprised many polygons. Minor changes Minor updates documentation Performance improvments","code":""},{"path":"https://ipeagit.github.io/uci/news/index.html","id":"uci-010","dir":"Changelog","previous_headings":"","what":"uci 0.1.0","title":"uci 0.1.0","text":"CRAN release: 2023-06-11 Initial CRAN release.","code":""}]
